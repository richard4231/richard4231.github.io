# 3R6 Standardabweichung erkunden

## Beschreibung
Dieses Applet simuliert die Gewichtsverteilung von 1kg Mandarinenpackungen und visualisiert diese als Normalverteilung. Es ist speziell fÃ¼r den Mathematikunterricht konzipiert, um Standardabweichung und Normalverteilung anschaulich zu erkunden. Canvas-GrÃ¶ÃŸe: 800Ã—600 Pixel (optimal fÃ¼r Computer und Tablets).

## Funktionen

### Schieberegler
- **Anzahl Packungen** (1-5000): Steuert, wie viele Packungen simuliert werden
  - Ã„ndert die Zufallsverteilung neu
- **Standardabweichung** (1-30g): Steuert die Streuung der Gewichte
  - Generiert neue Zufallsverteilung
- **IntervallgrÃ¶ÃŸe** (0.5-10g): Steuert die Breite der Histogramm-Intervalle in 0.5g Schritten
  - Ã„ndert nur die Darstellung, nicht die Zufallsdaten!

### Checkboxen
- **Median & Mittelwert anzeigen**: Blendet vertikale Linien fÃ¼r Median (pink gestrichelt) und Mittelwert (grÃ¼n gepunktet) ein
- **Standardabweichung anzeigen**: Zeigt die 1., 2. und 3. Standardabweichung als vertikale Linien
  - Â±Ïƒ (1. Standardabweichung): Deutlich sichtbar, blaue gestrichelte Linien
  - Â±2Ïƒ (2. Standardabweichung): Dezenter, hellere gestrichelte Linien
  - Â±3Ïƒ (3. Standardabweichung): Sehr dezent, noch hellere gestrichelte Linien
- **Fixe KurvenhÃ¶he**: 
  - Aktiviert: Normalverteilungskurve nutzt immer die volle DiagrammhÃ¶he (gut fÃ¼r kleine Stichproben)
  - Deaktiviert: Kurve wÃ¤chst mit Anzahl der Packungen (realistische Darstellung)
- **Sehr viele Packungen (Ã—100)**: Multipliziert die Anzahl der Packungen mit 100 fÃ¼r groÃŸe Stichproben

### Visualisierungsmodi
Das Applet passt die Darstellung automatisch an die Anzahl der Packungen an:

1. **1-50 Packungen**: GroÃŸe blaue Rechtecke mit exaktem Gewicht
   - Stapeln von unten nach oben
   - Adaptive GrÃ¶ÃŸe: Bei mehr Packungen werden sie kleiner
   - Legende: ğŸ”· = 1 Packung (mit Gewicht in g)

2. **51-999 Packungen**: Orange Punkte gestapelt (Histogramm)
   - Adaptive PunktgrÃ¶ÃŸe: Werden bei hÃ¶heren Zahlen kleiner und dichter
   - Stapeln von unten nach oben
   - Legende: ğŸŸ  = 1 Packung

3. **1000+ Packungen**: Orange SÃ¤ulen mit feinem Rand
   - Breite der SÃ¤ule = eingestellte IntervallgrÃ¶ÃŸe
   - Feiner oranger Rand fÃ¼r bessere Sichtbarkeit
   - Legende: SÃ¤ule = Anzahl Packungen, Breite = IntervallgrÃ¶ÃŸe

### Interaktive Features
- **PrÃ¤ziser Hover-Effekt**: Fahre mit der Maus Ã¼ber SÃ¤ulen oder gestapelte Packungen
  - Zeigt die genaue Anzahl in einem Tooltip
  - Funktioniert nur innerhalb der tatsÃ¤chlichen SÃ¤ule/Packungen
  - Zeigt auch "Anzahl: 0" fÃ¼r leere Bins an

### Achsenbeschriftung
- **X-Achse**: Masse in Gramm (990g - 1030g)
- **Y-Achse**: Anzahl der Packungen - skaliert automatisch in sinnvollen Schritten (5er, 10er, 25er, 50er, 100er, etc.)

### Normalverteilungskurve
Die blaue Kurve zeigt die theoretische Normalverteilung:
- **Skalierbar (Standard)**: WÃ¤chst mit Anzahl der Packungen, begrenzt auf maximale SÃ¤ulenhÃ¶he
- **Fix (optional)**: Nutzt immer die volle DiagrammhÃ¶he - ideal zum Vergleichen kleiner Stichproben

### Einstellbare Parameter im Code

In `sketch.js` kannst du folgende Werte anpassen:

```javascript
let canvasWidth = 800;           // Canvas-Breite in Pixeln
let canvasHeight = 600;          // Canvas-HÃ¶he in Pixeln
let margin = 70;                 // Rand fÃ¼r Achsenbeschriftung (mehr Platz fÃ¼r Y-Achse)
let mittelwert = 1010;           // Mittelwert in Gramm
let standardabweichung = 5;      // Standardabweichung (auch per Slider)
let binSize = 2;                 // Start-IntervallgrÃ¶ÃŸe (auch per Slider: 0.5-10g)
let minMasse = 990;              // Minimale Masse auf X-Achse
let maxMasse = 1030;             // Maximale Masse auf X-Achse
let wechsel_punkt = 50;          // Ab dieser Anzahl: Punktmodus
let wechsel_balken = 1000;       // Ab dieser Anzahl: Balkenmodus
let multiplikator = 100;         // Faktor fÃ¼r "Sehr viele Packungen" Checkbox (Ã¤nderbar im Code)
```

### Technische Details

- **Zufallsverteilung**: Wird nur bei Ã„nderung der Anzahl Packungen, Standardabweichung oder beim Neuladen neu generiert. Ã„nderungen der IntervallgrÃ¶ÃŸe behalten die gleichen Zufallsdaten!
- **Multiplikator-Modus**: Wenn aktiviert, wird die Packungsanzahl mit dem Faktor multipliziert (Standard: 100Ã—), ideal fÃ¼r groÃŸe Stichproben
- **Histogramm-Binning**: Die Intervalle sind um ganze Werte zentriert. Bei einer IntervallgrÃ¶ÃŸe von 1g und Mittelwert 1010g geht das Intervall von 1009.5g bis 1010.5g
- **Y-Achsen-Skalierung**: Die SchrittgrÃ¶ÃŸe wird automatisch in sinnvollen Werten gewÃ¤hlt (5, 10, 25, 50, 100, 200, 250, 500, etc.)
- **Balkenbreite**: Die Breite der SÃ¤ulen entspricht exakt der eingestellten IntervallgrÃ¶ÃŸe auf der Masse-Skala
- **Adaptive Darstellung**: Packungen und Punkte werden bei hÃ¶heren Anzahlen automatisch kleiner und dichter gepackt
- **PrÃ¤zise Hover-Erkennung**: Der Tooltip erscheint nur, wenn die Maus tatsÃ¤chlich innerhalb der SÃ¤ule oder gestapelten Elemente ist
- **Standardabweichungs-Visualisierung**: Zeigt Â±1Ïƒ, Â±2Ïƒ und Â±3Ïƒ mit unterschiedlicher Sichtbarkeit (68%, 95%, 99.7% der Daten)

## Installation

1. Lade alle drei Dateien (index.html, sketch.js, style.css) in denselben Ordner
2. Ã–ffne `index.html` in einem modernen Browser
3. Das Applet sollte sofort funktionieren

## Optional: Font
Das Applet versucht, den PoloCEF-Font zu laden (wie im Original-Applet). Wenn der Font nicht verfÃ¼gbar ist, wird automatisch ein Fallback-Font verwendet. Um den Font zu nutzen:

1. Erstelle einen Unterordner `assets/`
2. Lege die Datei `PoloCEF-Regular.otf` dort ab

## Technologie
- p5.js (Version 2.0.3)
- Normalverteilung nach Box-Muller-Transform
- Responsive Canvas-Visualisierung

## Didaktischer Nutzen

Das Applet "3R6 Standardabweichung erkunden" ist ideal fÃ¼r den Mathematikunterricht geeignet:

### Lernziele
- **Standardabweichung verstehen**: Die drei Standardabweichungs-Linien (Â±Ïƒ, Â±2Ïƒ, Â±3Ïƒ) zeigen visuell die 68-95-99.7-Regel
- **Normalverteilung erkunden**: Wie verÃ¤ndert sich die Verteilung bei unterschiedlicher Standardabweichung?
- **StichprobengrÃ¶ÃŸe**: Vergleich kleiner (z.B. 10) und groÃŸer Stichproben (z.B. 5000)
- **Median vs. Mittelwert**: Bei symmetrischen Verteilungen fallen beide zusammen
- **Intervallbildung**: Einfluss der IntervallgrÃ¶ÃŸe auf die Histogramm-Darstellung

### Unterrichtsideen
1. **Empirische Regel testen**: Standardabweichung anzeigen und zÃ¤hlen, wie viele Packungen innerhalb Â±1Ïƒ, Â±2Ïƒ, Â±3Ïƒ liegen
2. **Einfluss der Standardabweichung**: Vergleiche Ïƒ = 2g mit Ïƒ = 10g bei gleicher Packungsanzahl
3. **Gesetz der groÃŸen Zahlen**: Beobachte, wie die Form bei steigender Anzahl der Normalverteilungskurve immer Ã¤hnlicher wird
4. **Fixe vs. wachsende Kurve**: Verstehe den Unterschied zwischen relativer HÃ¤ufigkeit und absoluter Anzahl

## Nutzung
- Bewege die Schieberegler, um verschiedene Szenarien zu simulieren
- Die Normalverteilungskurve (blau) zeigt die theoretische Verteilung
- Die gestapelten Elemente zeigen die tatsÃ¤chlich simulierten Werte
- Bei vielen Packungen entsteht ein typisches "GauÃŸsches" Histogramm